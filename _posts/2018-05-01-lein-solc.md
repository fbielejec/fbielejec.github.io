---
layout: post
title: lein-solc plugin
comments: true
categories:
- Clojure
- leiningen
- Solidity
- solc
---
 
# <a name="intro"/> Intro
If you are a developer working in the blockchain space, chances are you have to work with smart contracts.

I just released a [Leiningen](https://leiningen.org/) plugin for compiling contracts written in the [Solidity](https://solidity.readthedocs.io/) language, that facilitates compiling smart contracts code as part of the build process - helpful during deployment or CI.
To aid in development the plugin also includes an `auto` option, which will watch and recompiles on source code changes. <br>
<br>
Source code is published on [GitHub](https://github.com/district0x/lein-solc), plugin is availiable via [clojars](https://clojars.org/lein-solc). 

# <a name="using"/> Using the plugin

Start by adding the plugin to your `project.cljs`:

```clojure
:plugins [[lein-solc "1.0.0"]]
 ```

add the map with the options:

```clojure
:solc {:src-path "resources/contracts/src"
       :build-path "resources/contracts/build"
       :solc-err-only false
       :contracts ["Test.sol" "lib/string.sol"]}
```

In plain english: this assumes there are two contracts `Test.sol` and `string.sol`, former in the directory `"resources/contracts/src"`, latter in the `"lib"` sub-directory (both relative to the projects root directory).
The compiled binaries and [ABI](https://web3js.readthedocs.io/en/1.0/web3-eth-abi.html) will end up in the `"resources/contracts/build"`. 
`:solc-err-only` set to **false** means both errors and warnings will be reported (set to **true** and only th ecompilation errors will show in your standard output). <br>
<br>
Now you can call `lein solc` to compile the contracts or `lein solc auto` to watch the sources and recompile them on changes. <br>
<br>
For other options I invite you to check out the [documentation](https://github.com/district0x/lein-solc#lein-solc).

<!-- # <a name="tips"/> Bonus: Tips on developing plugins for lein  -->


